skills_analysis_task:
  description: >
    Analyze the job requirements and assess how well the candidate's skills and experience align with the position.
    
    Job Posting Details:
    - Title: {{job_title}}
    - Company: {{company_name}}
    - Location: {{job_location}}
    - Description: {{job_description}}
    
    Company Research Context: {{company_research}}
    
    Use ChromaDB search to retrieve relevant career brand information about the candidate's skills,
    technical background, and professional experience. Focus on:
    
    - Technical skills and proficiency levels required vs possessed
    - Years of experience and seniority level match
    - Domain expertise and industry knowledge alignment
    - Soft skills and leadership requirements
    - Education and certification requirements
    - Any notable skill gaps or areas for growth
    
    Based on your analysis, provide insights into the skills fit.
    
  expected_output: >
    A JSON object with skills analysis:
    {
      "skills_fit": {
        "technical_alignment": "...",
        "experience_match": "...",
        "skill_gaps": ["..."],
        "strengths": ["..."],
        "seniority_fit": "...",
        "development_opportunities": ["..."],
        "skills_score": "...",
        "key_insights": ["..."]
      }
    }
  
  agent: skills_analyst

culture_analysis_task:
  description: >
    Analyze the company culture, values, and work environment to assess alignment with the candidate's preferences.
    
    Job Posting Details:
    - Title: {{job_title}}
    - Company: {{company_name}}
    - Location: {{job_location}}
    - Description: {{job_description}}
    
    Company Research Context: {{company_research}}
    
    Use ChromaDB search to retrieve relevant career brand information about the candidate's values,
    working style preferences, and cultural fit criteria. Focus on:
    
    - Company values alignment with candidate's values
    - Work environment and team dynamics
    - Management style and organizational structure
    - Diversity, equity, and inclusion practices
    - Work-life balance and flexibility
    - Company mission and purpose alignment
    
    Based on your analysis, provide insights into cultural fit.
    
  expected_output: >
    A JSON object with culture analysis:
    {
      "cultural_fit": {
        "values_alignment": "...",
        "work_environment": "...",
        "team_dynamics": "...",
        "management_style": "...",
        "work_life_balance": "...",
        "mission_alignment": "...",
        "culture_score": "...",
        "cultural_highlights": ["..."],
        "potential_concerns": ["..."]
      }
    }
    
  agent: culture_analyst

compensation_analysis_task:
  description: >
    Analyze the compensation package and evaluate competitiveness against market benchmarks.
    
    Job Posting Details:
    - Title: {{job_title}}
    - Company: {{company_name}}
    - Location: {{job_location}}
    - Description: {{job_description}}
    
    Company Research Context: {{company_research}}
    
    Use web research tools to gather current market data for similar roles. Focus on:
    
    - Salary range and base compensation
    - Equity, stock options, and bonus structure
    - Benefits package (health, retirement, PTO, etc.)
    - Market competitiveness for the location and role level
    - Total compensation value
    - Growth potential and merit increase patterns
    
    Based on your research, provide insights into compensation competitiveness.
    
  expected_output: >
    A JSON object with compensation analysis:
    {
      "compensation_fit": {
        "base_salary": "...",
        "total_compensation": "...",
        "benefits_package": "...",
        "equity_potential": "...",
        "market_competitiveness": "...",
        "compensation_transparency": "...",
        "compensation_score": "...",
        "market_insights": ["..."],
        "value_propositions": ["..."]
      }
    }
    
  agent: compensation_analyst

career_trajectory_analysis_task:
  description: >
    Analyze career growth opportunities and alignment with the candidate's long-term career goals.
    
    Job Posting Details:
    - Title: {{job_title}}
    - Company: {{company_name}}
    - Location: {{job_location}}
    - Description: {{job_description}}
    
    Company Research Context: {{company_research}}
    
    Use ChromaDB search to retrieve relevant career brand information about the candidate's career goals,
    trajectory aspirations, and growth priorities. Focus on:
    
    - Career advancement opportunities within the role and company
    - Skill development and learning opportunities
    - Leadership and management track potential
    - Industry positioning and market growth
    - Networking and professional development support
    - Long-term career trajectory alignment
    
    Based on your analysis, provide insights into career growth potential.
    
  expected_output: >
    A JSON object with career trajectory analysis:
    {
      "career_growth": {
        "advancement_opportunities": "...",
        "skill_development": "...",
        "leadership_potential": "...",
        "industry_positioning": "...",
        "learning_support": "...",
        "trajectory_alignment": "...",
        "growth_score": "...",
        "career_highlights": ["..."],
        "growth_limitations": ["..."]
      }
    }
    
  agent: career_trajectory_analyst

fit_evaluation_task:
  description: >
    Synthesize all specialist analyses into a comprehensive job fit evaluation and recommendation.
    
    Job Posting Details:
    - Title: {{job_title}}
    - Company: {{company_name}}
    - Location: {{job_location}}
    - Description: {{job_description}}
    
    Company Research Context: {{company_research}}
    
    Review and integrate the findings from:
    - Skills and requirements analysis
    - Cultural fit analysis
    - Compensation analysis
    - Career trajectory analysis
    
    Provide a comprehensive evaluation that considers all dimensions of fit and makes a clear
    recommendation with supporting rationale. Include specific actions and considerations.
    
  expected_output: >
    A complete JSON report with integrated fit evaluation:
    {
      "job_title": "{{job_title}}",
      "company_name": "{{company_name}}",
      "skills_fit": {},
      "cultural_fit": {},
      "compensation_fit": {},
      "career_growth": {},
      "overall_evaluation": {
        "recommend": true/false,
        "fit_score": "...",
        "confidence_level": "...",
        "rationale": "...",
        "key_strengths": ["..."],
        "key_concerns": ["..."],
        "decision_factors": ["..."]
      },
      "recommended_actions": ["..."],
      "questions_to_ask": ["..."],
      "negotiation_points": ["..."]
    }
    
  agent: fit_evaluator
  context: [skills_analysis_task, culture_analysis_task, compensation_analysis_task, career_trajectory_analysis_task]